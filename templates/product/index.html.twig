{% extends 'base.html.twig' %}

{% block title %}Список продуктов{% endblock %}

{% block body %}
<div class="container">
    <h1 class="text-center my-4 text-dark">Список продуктов</h1>
    <table class="table-responsive-sm text-center table-hover">
        <thead>
            <tr>
                <th>Название</th>
                <th>Картинка</th>
                <th>Изменинно</th>
                <th>Модель</th>
                <th>Цвет</th>
                <th>Краткое описание</th>
                <th>Полное описание</th>
                <th>Дата создания</th>
                <th>Действия</th>
            </tr>
        </thead>
        <tbody>
        {% for product in products %}
            <tr>
                <td>{{ product.title }}</td>
                <td><img src="{{ vich_uploader_asset(product, 'imageFile') | imagine_filter('table_filter') }}" alt="{{ product.title }}"></td>
                <td>{{ product.updatedAt ? product.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ product.model }}</td>
                <td>{{ product.color }}</td>
                <td>{{ product.descOne | u.truncate(50, '...') }}</td>
                <td>{{ product.descTwo | u.truncate(50, '...') }}</td>
                <td>{{ product.createdAt ? product.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                <td>
                    <a href="{{ path('product_show', {'id': product.id}) }}" class="btn-sm btn-secondary text-decoration-none">Показать</a>
                    <a href="{{ path('product_edit', {'id': product.id}) }}" class="btn-sm btn-warning text-decoration-none">Изменить</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="11">Товаров не найдено в базе данных</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="{{ path('product_new') }}">Create new</a>
</div>
{% endblock %}
